<title>Torneos - OTEFA</title>

<div>
	<h1 class="page-title page-title-font">Torneos</h1>
</div>

<br/><br/>

<div class="container containerMain">

    <div class="panel-group" id="accordion">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a href="" data-toggle="collapse" data-parent="#accordion" data-target="#vigentes">
                        Torneos Vigentes
                    </a>
                </h4>
            </div>
            <div id="vigentes" class="panel-collapse collapse">
                <div class="panel-body">
                    <div >
                        <!-- <button type="button" class="btn btn-primary pull-right m-bottom10" ng-click="nuevoTorneo()">Nuevo Torneo</button> -->
                        <table datatable="ng" dt-options="dtOptions" class="table table-striped table-bordered">
                            <thead>
                                <tr>
                                    <th class="columnCenter">Nombre</th>
                                    <th class="columnCenter">Días</th>
                                    <th class="columnCenter">Sedes</th>
                                    <th class="columnCenter">Formato</th>
                                    <th class="columnCenter">Formato de Clasificación</th>
                                    <th class="columnCenter">Reglamento</th>
                                    <th class="columnCenter">Premios</th>
                                </tr>
                            </thead>
                            <tbody>
                               <tr ng-repeat="tournament in tournaments">
                                    <td class="columnCenter"><a ng-href="#/torneo/{{tournament.Id}}/{{tournament.Name}}">{{tournament.Name}}</a></td>
                                    <td class="columnCenter">
                                        <div ng-repeat="date in tournament.TournamentDatesList">
                                            {{date.Date | date: 'dd/MM/yyyy'}}
                                        </div>
                                    </td>
                                    <td class="columnCenter">
                                        <div ng-repeat="headquarter in tournament.HeadquartersList | orderBy:'Name'">
                                            {{headquarter.Name}}
                                        </div>
                                    </td>
                                    <td class="columnCenter">{{showFormatName(tournament.TournamentFormat)}}</td>
                                    <td class="columnCenter">{{showClasificationFormatName(tournament.ClasificationFormat)}}</td>
                                    <td class="columnCenter"><button ng-click="openRules(tournament, tournament.Prices)" class="botonReglamento glyphicon glyphicon-list-alt"></button></td>
                                    <td class="columnCenter"><button ng-click="openRules(tournament)" class="botonReglamento glyphicon glyphicon-list-alt"></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a href="" data-toggle="collapse" data-parent="#accordion" data-target="#noVigentes">
                        Torneos Fuera de Vigencia
                    </a>
                </h4>
            </div>
            <div id="noVigentes" class="panel-collapse collapse">
                <div class="panel-body">
                    <div >
                        <div class="panel-group" id="accordion2">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">
                                        <a href="" data-toggle="collapse" data-parent="#accordion2" data-target="#target1">
                                            2014
                                        </a>
                                    </h4>
                                </div>
                                <div id="target1" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <div >
                                            <h4>Torneos del 2014</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">
                                        <a href="" data-toggle="collapse" data-parent="#accordion2" data-target="#target2">
                                            2015
                                        </a>
                                    </h4>
                                </div>
                                <div id="target2" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <div >
                                            <h4>Torneos del 2015</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">
                                        <a href="" data-toggle="collapse" data-parent="#accordion2" data-target="#target3">
                                            2016
                                        </a>
                                    </h4>
                                </div>
                                <div id="target3" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <div >
                                            <h4>Torneos del 2016</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">
                                        <a href="" data-toggle="collapse" data-parent="#accordion2" data-target="#target4">
                                            2017
                                        </a>
                                    </h4>
                                </div>
                                <div id="target4" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <div >
                                            <h4>Torneos del 2017</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<script type="text/ng-template" id="details.html">
    <form>
        <div class="modal-body" style="margin: 0 auto; padding: 5%">
            <div>
                <div class="modal-header text-center">
                    <span ng-show="rules" style="color: white">Reglamento del Torneo</span>
                    <span ng-show="!rules" style="color: white">Premios</span>
                </div>
                
                <br />
                
                <pre ng-show="rules" class="tournamentDetails">{{tournament.Rules}}</pre>
                <pre ng-show="!rules" class="tournamentDetails">{{tournament.Prices}}</pre>

                <br />
                
                <div style="color:white" class="row alert alert-danger" ng-if="errorMsg">{{ errorMsg | translate}} </div>

                <br />
                <div class="modal-footer">
                    <button class="btn btn-default" ng-click="cancel()">Salir</button>
                </div>
            </div>
            <div class="row error">
                <div class="row alert alert-danger" ng-if="error">{{ error | translate}} </div>
            </div>
        </div>
    </form>
</script>